{% extends "AGILOfferBundle::baseOfferBundle.html.twig" %}

{% block body %}
    <div class="row">
        <div class="col-md-offset-2 col-md-8 col-lg-offset-2 col-lg-8">
            <p><a class="btn btn-primary" href="{{ path('agil_offer_add') }}">Ajouter une annonce</a></p>
        </div>
    </div>

    {% for offer in offers %}
    <div class="row">
        <div class="col-md-offset-2 col-md-8 col-lg-offset-2 col-lg-8">
            <div class="card-events">
                <div class="row">
                    <div class="col-xs-12 col-sm-12 col-md-8 col-lg-8">
                        <h5><a href="{{ path('agil_offer_view', {'id': offer.offerId}) }}">{{ offer.offerTitle }}</a></h5>

                        <p>{{ offer.offerPostDate| localizeddate('none', 'none', null, null, 'd LLL Y') }}</p>

                        {% if offer.offerText is not null %}
                        <p><h6></h6>Autheur: {{ offer.offerAuthor }}</h6></p>
                        {% endif %}

                        <p><h6><em>
                                {{ offer.offerText|slice(0, 255)|raw }}
                                {% if offer.offerText|length > 255 %}...{% endif %}
                        </em></h6></p>

                        {% for tag in offer.tags %}
                            <span class="label {{ tag.tagColor }}">{{ tag.tagName }}</span>
                        {% endfor %}
                    </div>
                </div>
            </div>
        </div>
    </div>
    {% endfor %}

    {% if offers is empty %}
    <div class="row">
        <div class="col-md-offset-2 col-md-8 col-lg-offset-2 col-lg-8">
            <div class="card-events">
                <div class="row">
                    <div class="col-xs-12 col-sm-12 col-md-8 col-lg-8">
                        <h5>Aucune offre disponible pour l'instant.</h5>
                        <p>Revenez plus tard ou inscrivez-vous Ã  la mailing list !</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    {% endif %}

    {% if pagination.pages_count>1 %}
    <nav class="text-center">
        {% include 'AGILHallBundle:Default:pagination.html.twig' %}
    </nav>
    {% endif %}
{% endblock %}
